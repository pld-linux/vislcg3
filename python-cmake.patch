From c22f5572c0946b0d21f4d489308ea0ce9f305ea0 Mon Sep 17 00:00:00 2001
From: Tino Didriksen <mail@tinodidriksen.com>
Date: Fri, 4 Aug 2023 10:35:23 +0000
Subject: [PATCH] Use FindPython instead of FindPythonInterp for CMake >=
 3.12.0 (fixes https://bugs.debian.org/1042249); Release 1.4.6

---
 python/CMakeLists.txt | 7 ++++++-
 src/version.hpp       | 2 +-
 2 files changed, 7 insertions(+), 2 deletions(-)

diff --git a/python/CMakeLists.txt b/python/CMakeLists.txt
index 5107e078..122bb798 100644
--- a/python/CMakeLists.txt
+++ b/python/CMakeLists.txt
@@ -1,5 +1,10 @@
 find_package(SWIG 3.0 REQUIRED)
-find_package(PythonInterp 3.5 REQUIRED)
+if(CMAKE_VERSION VERSION_GREATER_EQUAL "3.12.0")
+	find_package(Python 3.5 REQUIRED)
+	set(PYTHON_EXECUTABLE ${Python_EXECUTABLE})
+else()
+	find_package(PythonInterp 3.5 REQUIRED)
+endif()
 
 set(PYTHON_FILE "constraint_grammar.py")
 set(CPP_WRAP_FILE "constraint_grammar_wrap.cpp")
